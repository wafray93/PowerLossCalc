<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock %} - Si/SiC/GaN –¢—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–∏</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    {% block extra_head %}{% endblock %}
    <meta name="description" content="–ü—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω –∫–∞–ª–∫—É–ª–∞—Ç–æ—Ä –∑–∞ Si/SiC/GaN —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–∏ —Å –Ω–∞—É—á–Ω–∏ –∞–Ω–∞–ª–∏–∑–∏">
    <meta name="keywords" content="—Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä, –∫–∞–ª–∫—É–ª–∞—Ç–æ—Ä, SiC, GaN, —Å–∏–ª–∏—Ü–∏–π, –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç">
</head>
<body class="scientific-app">
    <!-- Mobile Navigation Toggle -->
    <div class="mobile-nav-toggle" onclick="toggleMobileNav()" aria-label="–û—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è" role="button" tabindex="0">
        <div class="hamburger-icon">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </div>

    <!-- Header -->
    <header class="app-header">
        <div class="header-content">
            <div class="app-title">
                <div class="app-logo">
                    <svg viewBox="0 0 24 24" width="32" height="32" fill="currentColor">
                        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                    </svg>
                </div>
                <div class="title-text">
                    <h1>Si/SiC/GaN Calculator</h1>
                    <span class="subtitle">–ù–∞—É—á–Ω–æ –∏–Ω–∂–µ–Ω–µ—Ä–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</span>
                </div>
            </div>
            
            <!-- Language Switcher -->
            <div class="language-switcher">
                <button id="langBG" class="lang-btn active" onclick="switchLanguage('bg', this)" aria-label="–ë—ä–ª–≥–∞—Ä—Å–∫–∏ –µ–∑–∏–∫">–ë–ì</button>
                <button id="langEN" class="lang-btn" onclick="switchLanguage('en', this)" aria-label="English language">EN</button>
            </div>
        </div>
    </header>

    <!-- Left Sidebar Navigation -->
    <nav class="sidebar-nav" id="sidebarNav" role="navigation" aria-label="–û—Å–Ω–æ–≤–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
        <div class="nav-section">
            <h3 class="nav-section-title">–û—Å–Ω–æ–≤–Ω–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏</h3>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="{{ url_for('calculator') }}" class="nav-link {% if request.endpoint == 'calculator' %}active{% endif %}" 
                       data-tooltip="–û—Å–Ω–æ–≤–Ω–∏ –∏–∑—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞ –∑–∞–≥—É–±–∏ –∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç" role="menuitem">
                        <span class="nav-icon">üìä</span>
                        <span class="nav-text">–ö–∞–ª–∫—É–ª–∞—Ç–æ—Ä</span>
                        <div class="nav-tooltip">–û—Å–Ω–æ–≤–Ω–∏ –∏–∑—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞ –∑–∞–≥—É–±–∏ –∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç</div>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{{ url_for('analysis') }}" class="nav-link {% if request.endpoint == 'analysis' %}active{% endif %}"
                       data-tooltip="–ì—Ä–∞—Ñ–∏–∫–∏ –Ω–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç –∏ –∞–Ω–∞–ª–∏–∑ –Ω–∞ –¥–∞–Ω–Ω–∏" role="menuitem">
                        <span class="nav-icon">üìà</span>
                        <span class="nav-text">–ê–Ω–∞–ª–∏–∑</span>
                        <div class="nav-tooltip">–ì—Ä–∞—Ñ–∏–∫–∏ –Ω–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç –∏ –∞–Ω–∞–ª–∏–∑ –Ω–∞ –¥–∞–Ω–Ω–∏</div>
                    </a>
                </li>
            </ul>
        </div>

        <div class="nav-section">
            <h3 class="nav-section-title">–†–∞–∑—à–∏—Ä–µ–Ω–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏</h3>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="{{ url_for('advanced') }}" class="nav-link {% if request.endpoint == 'advanced' %}active{% endif %}"
                       data-tooltip="–¢–µ—Ä–º–∏—á–µ–Ω –∞–Ω–∞–ª–∏–∑ –∏ —Ä–∞–∑—à–∏—Ä–µ–Ω–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏" role="menuitem">
                        <span class="nav-icon">üî¨</span>
                        <span class="nav-text">–†–∞–∑—à–∏—Ä–µ–Ω</span>
                        <div class="nav-tooltip">–¢–µ—Ä–º–∏—á–µ–Ω –∞–Ω–∞–ª–∏–∑ –∏ —Ä–∞–∑—à–∏—Ä–µ–Ω–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏</div>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{{ url_for('database') }}" class="nav-link {% if request.endpoint == 'database' %}active{% endif %}"
                       data-tooltip="–ë–∞–∑–∞ –¥–∞–Ω–Ω–∏ —Å —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–∏ –∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏" role="menuitem">
                        <span class="nav-icon">üìö</span>
                        <span class="nav-text">–ë–∞–∑–∞ –¥–∞–Ω–Ω–∏</span>
                        <div class="nav-tooltip">–ë–∞–∑–∞ –¥–∞–Ω–Ω–∏ —Å —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–∏ –∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏</div>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{{ url_for('drivers') }}" class="nav-link {% if request.endpoint == 'drivers' %}active{% endif %}"
                       data-tooltip="–î—Ä–∞–π–≤–µ—Ä–∏ –∑–∞ Si/SiC/GaN —Å –∏–Ω—Ç–µ–ª–∏–≥–µ–Ω—Ç–Ω–æ –ø—Ä–µ–ø–æ—Ä—ä—á–≤–∞–Ω–µ" role="menuitem">
                        <span class="nav-icon">üîå</span>
                        <span class="nav-text">–î—Ä–∞–π–≤–µ—Ä–∏</span>
                        <div class="nav-tooltip">–î—Ä–∞–π–≤–µ—Ä–∏ –∑–∞ Si/SiC/GaN —Å –∏–Ω—Ç–µ–ª–∏–≥–µ–Ω—Ç–Ω–æ –ø—Ä–µ–ø–æ—Ä—ä—á–≤–∞–Ω–µ</div>
                    </a>
                </li>
            </ul>
        </div>

        <div class="nav-section">
            <h3 class="nav-section-title">–ù–∞—É—á–Ω–∏ —Ä–µ—Å—É—Ä—Å–∏</h3>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="{{ url_for('theory') }}" class="nav-link {% if request.endpoint == 'theory' %}active{% endif %}"
                       data-tooltip="–ù–∞—É—á–Ω–∞ —Ç–µ–æ—Ä–∏—è, —Ñ–æ—Ä–º—É–ª–∏ –∏ —Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏–∏" role="menuitem">
                        <span class="nav-icon">üìñ</span>
                        <span class="nav-text">–¢–µ–æ—Ä–∏—è</span>
                        <div class="nav-tooltip">–ù–∞—É—á–Ω–∞ —Ç–µ–æ—Ä–∏—è, —Ñ–æ—Ä–º—É–ª–∏ –∏ —Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏–∏</div>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{{ url_for('tools') }}" class="nav-link {% if request.endpoint == 'tools' %}active{% endif %}"
                       data-tooltip="–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –∑–∞ –µ–∫—Å–ø–æ—Ä—Ç, –∫–æ–ø–∏—Ä–∞–Ω–µ –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–µ" role="menuitem">
                        <span class="nav-icon">‚öôÔ∏è</span>
                        <span class="nav-text">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏</span>
                        <div class="nav-tooltip">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –∑–∞ –µ–∫—Å–ø–æ—Ä—Ç, –∫–æ–ø–∏—Ä–∞–Ω–µ –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–µ</div>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{{ url_for('contact') }}" class="nav-link {% if request.endpoint == 'contact' %}active{% endif %}"
                       data-tooltip="–°–≤—ä—Ä–∂–µ—Ç–µ —Å–µ —Å –Ω–∞—Å –∑–∞ –≤—ä–ø—Ä–æ—Å–∏ –∏ –∫–æ–Ω—Å—É–ª—Ç–∞—Ü–∏–∏" role="menuitem">
                        <span class="nav-icon">üìß</span>
                        <span class="nav-text">–ö–æ–Ω—Ç–∞–∫—Ç–∏</span>
                        <div class="nav-tooltip">–°–≤—ä—Ä–∂–µ—Ç–µ —Å–µ —Å –Ω–∞—Å –∑–∞ –≤—ä–ø—Ä–æ—Å–∏ –∏ –∫–æ–Ω—Å—É–ª—Ç–∞—Ü–∏–∏</div>
                    </a>
                </li>
            </ul>
        </div>

        <!-- Navigation Footer -->
        <div class="nav-footer">
            <div class="app-version">v2.1</div>
            <div class="scientific-badge">Scientific Edition</div>
        </div>
    </nav>

    <!-- Mobile Navigation Overlay -->
    <div class="mobile-nav-overlay" id="mobileNavOverlay" onclick="toggleMobileNav()"></div>

    <!-- Mobile Top Navigation -->
    <nav class="mobile-top-nav" id="mobileTopNav">
        <div class="mobile-nav-tabs">
            <a href="{{ url_for('calculator') }}" class="mobile-tab {% if request.endpoint == 'calculator' %}active{% endif %}">
                <span class="mobile-tab-icon">üìä</span>
                <span class="mobile-tab-text">–ö–∞–ª–∫—É–ª–∞—Ç–æ—Ä</span>
            </a>
            <a href="{{ url_for('analysis') }}" class="mobile-tab {% if request.endpoint == 'analysis' %}active{% endif %}">
                <span class="mobile-tab-icon">üìà</span>
                <span class="mobile-tab-text">–ê–Ω–∞–ª–∏–∑</span>
            </a>
            <a href="{{ url_for('advanced') }}" class="mobile-tab {% if request.endpoint == 'advanced' %}active{% endif %}">
                <span class="mobile-tab-icon">üî¨</span>
                <span class="mobile-tab-text">–†–∞–∑—à–∏—Ä–µ–Ω</span>
            </a>
            <a href="{{ url_for('database') }}" class="mobile-tab {% if request.endpoint == 'database' %}active{% endif %}">
                <span class="mobile-tab-icon">üìö</span>
                <span class="mobile-tab-text">–ë–∞–∑–∞ –¥–∞–Ω–Ω–∏</span>
            </a>
            <a href="{{ url_for('theory') }}" class="mobile-tab {% if request.endpoint == 'theory' %}active{% endif %}">
                <span class="mobile-tab-icon">üìñ</span>
                <span class="mobile-tab-text">–¢–µ–æ—Ä–∏—è</span>
            </a>
            <a href="{{ url_for('tools') }}" class="mobile-tab {% if request.endpoint == 'tools' %}active{% endif %}">
                <span class="mobile-tab-icon">‚öôÔ∏è</span>
                <span class="mobile-tab-text">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏</span>
            </a>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="main-content" role="main">
        <div class="content-wrapper">
            <!-- Page Title and Description -->
            <div class="page-header">
                <h1 class="page-title">{% block page_title %}{% endblock %}</h1>
                <p class="page-description">{% block page_description %}{% endblock %}</p>
            </div>

            <!-- Content -->
            <div class="page-content">
                {% block content %}{% endblock %}
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="app-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>–ó–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ</h4>
                <p>–ü—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω –∏–Ω–∂–µ–Ω–µ—Ä–µ–Ω –∫–∞–ª–∫—É–ª–∞—Ç–æ—Ä –∑–∞ –∞–Ω–∞–ª–∏–∑ –Ω–∞ Si/SiC/GaN —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–∏</p>
            </div>
            <div class="footer-section">
                <h4>–ù–∞—É—á–Ω–∏ —Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏–∏</h4>
                <p>–ë–∞–∑–∏—Ä–∞–Ω–æ –Ω–∞ –∞–∫—Ç—É–∞–ª–Ω–∏ –Ω–∞—É—á–Ω–∏ –∏–∑—Å–ª–µ–¥–≤–∞–Ω–∏—è –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—Å–∫–∏ –¥–∞–Ω–Ω–∏</p>
            </div>
            <div class="footer-section">
                <h4>–í–µ—Ä—Å–∏—è</h4>
                <p>v2.1 - –ù–∞—É—á–Ω–∞ –í–µ—Ä—Å–∏—è (2025)</p>
                <p class="copyright">¬© 2025 Scientific Calculator App</p>
            </div>
        </div>
    </footer>

    <!-- Print Styles -->
    <style media="print">
        .sidebar-nav, .mobile-nav-toggle, .mobile-top-nav, .app-footer { display: none !important; }
        .main-content { margin-left: 0 !important; padding: 20px !important; }
        .app-header { background: #fff !important; color: #000 !important; }
        body { background: #fff !important; }
    </style>

    <!-- Base JavaScript -->
    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <script>
        // Mobile navigation toggle
        function toggleMobileNav() {
            const sidebar = document.getElementById('sidebarNav');
            const overlay = document.getElementById('mobileNavOverlay');
            const body = document.body;
            
            if (sidebar.classList.contains('mobile-open')) {
                sidebar.classList.remove('mobile-open');
                overlay.classList.remove('active');
                body.classList.remove('nav-open');
            } else {
                sidebar.classList.add('mobile-open');
                overlay.classList.add('active');
                body.classList.add('nav-open');
            }
        }


        // Keyboard navigation for accessibility
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const sidebar = document.getElementById('sidebarNav');
                if (sidebar.classList.contains('mobile-open')) {
                    toggleMobileNav();
                }
            }
        });

        // Focus management for navigation
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    this.click();
                }
            });
        });

        // Initialize language from localStorage
        document.addEventListener('DOMContentLoaded', function() {
            const preferredLang = localStorage.getItem('preferred-language') || 'bg';
            if (preferredLang === 'en') {
                switchLanguage('en');
            }
        });
    </script>

    {% block extra_scripts %}{% endblock %}
</body>
</html>