{% extends "base.html" %}

{% block title %}–ë–∞–∑–∞ –¥–∞–Ω–Ω–∏{% endblock %}

{% block page_title %}<span data-lang="databasePageTitle">–¢—ä—Ä—Å–µ–Ω–µ –∏ —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –Ω–∞ —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–∏</span>{% endblock %}

{% block page_description %}<span data-lang="databasePageDescription">–û–±—à–∏—Ä–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω–∏ —Å Si/SiC/GaN —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–∏ –æ—Ç –≤–æ–¥–µ—â–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏ —Å —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ.</span>{% endblock %}

{% block content %}
<section class="database-content">
    <!-- Selected Transistor Info -->
    <div class="selected-transistor-info" id="selectedTransistorInfo" style="display: none;">
        <div class="selected-info-header">
            <h3>üéØ <span data-lang="selectedTransistorTitle">–ò–∑–±—Ä–∞–Ω —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä</span></h3>
            <button id="goToCalculator" class="btn-primary">
                üìä <span data-lang="goToCalculator">–û—Ç–∏–¥–∏ –≤ –∫–∞–ª–∫—É–ª–∞—Ç–æ—Ä–∞</span>
            </button>
        </div>
        <div class="selected-info-details">
            <div class="detail-item">
                <span class="detail-label" data-lang="model">–ú–æ–¥–µ–ª:</span>
                <span id="selectedModelInfo">-</span>
            </div>
            <div class="detail-item">
                <span class="detail-label" data-lang="manufacturer">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª:</span>
                <span id="selectedManufacturerInfo">-</span>
            </div>
            <div class="detail-item">
                <span class="detail-label">VDS max:</span>
                <span id="selectedVdsInfo">-</span>
            </div>
            <div class="detail-item">
                <span class="detail-label">ID max:</span>
                <span id="selectedIdInfo">-</span>
            </div>
            <div class="detail-item">
                <span class="detail-label">RDS(on):</span>
                <span id="selectedRdsInfo">-</span>
            </div>
        </div>
    </div>
    
    <div class="no-transistor-warning" id="noTransistorWarning">
        <div class="warning-content">
            <div class="warning-icon">‚ö†Ô∏è</div>
            <div class="warning-text">
                <h3 data-lang="noTransistorSelected">–ù—è–º–∞ –∏–∑–±—Ä–∞–Ω —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä</h3>
                <p data-lang="selectFromCalculator">–ò–∑–±–µ—Ä–µ—Ç–µ —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä –æ—Ç –∫–∞–ª–∫—É–ª–∞—Ç–æ—Ä–∞ –∑–∞ –ø–æ–¥—Ä–æ–±–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ –∞–Ω–∞–ª–∏–∑.</p>
                <button id="goToCalculatorFromWarning" class="btn-primary">
                    üßÆ <span data-lang="goToCalculator">–û—Ç–∏–¥–∏ –≤ –∫–∞–ª–∫—É–ª–∞—Ç–æ—Ä–∞</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Search and Filter Controls -->
    <div class="controls">
        <h2 data-lang="databaseTitle">üìö –ë–∞–∑–∞ –¥–∞–Ω–Ω–∏ —Å —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–∏</h2>
        <p data-lang="databaseDescription">–¢—ä—Ä—Å–µ—Ç–µ –∏ —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–π—Ç–µ –æ—Ç –Ω–∞–¥ 3000 —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–∏ —Å —Ä–µ–∞–ª–Ω–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –æ—Ç datasheet-–æ–≤–µ</p>
        
        <!-- Text Search -->
        <div class="search-section">
            <div class="search-box">
                <input type="text" id="textSearch" placeholder="–¢—ä—Ä—Å–µ–Ω–µ –ø–æ –º–æ–¥–µ–ª, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª –∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ..." data-lang-placeholder="searchPlaceholder">
                <button id="clearSearch" title="–ò–∑—á–∏—Å—Ç–∏ —Ç—ä—Ä—Å–µ–Ω–µ—Ç–æ" data-lang-title="clearSearch">‚úï</button>
            </div>
        </div>
        
        <!-- Advanced Filters -->
        <div class="database-filters">
            <h3 data-lang="advancedFilters">üîç –†–∞–∑—à–∏—Ä–µ–Ω–∏ —Ñ–∏–ª—Ç—Ä–∏:</h3>
            
            <div class="filter-row">
                <div class="filter-group">
                    <label data-lang="technology">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è:</label>
                    <select id="techFilter">
                        <option value="all" data-lang="allTechnologies">–í—Å–∏—á–∫–∏</option>
                        <option value="Si">Si (Silicon)</option>
                        <option value="SiC">SiC (Silicon Carbide)</option>
                        <option value="GaN">GaN (Gallium Nitride)</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label data-lang="manufacturer">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª:</label>
                    <select id="manufacturerFilter">
                        <option value="all" data-lang="allManufacturers">–í—Å–∏—á–∫–∏</option>
                        <option value="Infineon">Infineon</option>
                        <option value="Wolfspeed">Wolfspeed</option>
                        <option value="GaN Systems">GaN Systems</option>
                        <option value="STMicroelectronics">STMicroelectronics</option>
                        <option value="IXYS">IXYS</option>
                        <option value="Fairchild">Fairchild</option>
                        <option value="Toshiba">Toshiba</option>
                        <option value="Rohm">Rohm</option>
                        <option value="ON Semiconductor">ON Semiconductor</option>
                        <option value="EPC">EPC</option>
                        <option value="Transphorm">Transphorm</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label data-lang="packageType">–ö–æ—Ä–ø—É—Å:</label>
                    <select id="packageFilter">
                        <option value="all" data-lang="allPackages">–í—Å–∏—á–∫–∏</option>
                        <option value="TO-220">TO-220</option>
                        <option value="TO-247">TO-247</option>
                        <option value="D2PAK">D2PAK</option>
                        <option value="DFN">DFN</option>
                        <option value="QFN">QFN</option>
                        <option value="LGA">LGA</option>
                        <option value="BGA">BGA</option>
                        <option value="PQFN">PQFN</option>
                    </select>
                </div>
            </div>
            
            <div class="filter-row">
                <div class="filter-group range-filter">
                    <label data-lang="maxVoltage">–ú–∞–∫—Å–∏–º–∞–ª–Ω–æ –Ω–∞–ø—Ä–µ–∂–µ–Ω–∏–µ (V):</label>
                    <div class="range-inputs">
                        <input type="number" id="voltageMin" value="10" min="10" max="1700" placeholder="Min">
                        <span>-</span>
                        <input type="number" id="voltageMax" value="1700" min="10" max="1700" placeholder="Max">
                    </div>
                    <input type="range" id="voltageRange" min="10" max="1700" value="1700" class="range-slider">
                    <span id="voltageDisplay">10V - 1700V</span>
                </div>
                
                <div class="filter-group range-filter">
                    <label data-lang="maxCurrent">–ú–∞–∫—Å–∏–º–∞–ª–µ–Ω —Ç–æ–∫ (A):</label>
                    <div class="range-inputs">
                        <input type="number" id="currentMin" value="1" min="1" max="200" placeholder="Min">
                        <span>-</span>
                        <input type="number" id="currentMax" value="200" min="1" max="200" placeholder="Max">
                    </div>
                    <input type="range" id="currentRange" min="1" max="200" value="200" class="range-slider">
                    <span id="currentDisplay">1A - 200A</span>
                </div>
                
                <div class="filter-group range-filter">
                    <label data-lang="maxResistance">RDS(on) (mŒ©):</label>
                    <div class="range-inputs">
                        <input type="number" id="resistanceMin" value="1" min="1" max="2000" placeholder="Min">
                        <span>-</span>
                        <input type="number" id="resistanceMax" value="2000" min="1" max="2000" placeholder="Max">
                    </div>
                    <input type="range" id="resistanceRange" min="1" max="2000" value="2000" class="range-slider">
                    <span id="resistanceDisplay">1mŒ© - 2000mŒ©</span>
                </div>
            </div>
            
            <!-- Filter Controls -->
            <div class="filter-controls">
                <button id="applyFilters" class="btn-primary" data-lang="applyFilters">üîç –ü—Ä–∏–ª–æ–∂–∏ —Ñ–∏–ª—Ç—Ä–∏</button>
                <button id="resetFilters" class="btn-secondary" data-lang="resetFilters">üîÑ –ù—É–ª–∏—Ä–∞–π —Ñ–∏–ª—Ç—Ä–∏</button>
                <button id="showAdvancedSearch" class="btn-secondary" data-lang="advancedSearch">‚öôÔ∏è –†–∞–∑—à–∏—Ä–µ–Ω–æ —Ç—ä—Ä—Å–µ–Ω–µ</button>
            </div>
        </div>
    </div>
    
    <!-- Results Section -->
    <div class="results">
        <div class="results-header">
            <div class="results-info">
                <h3 data-lang="searchResults">üìä –†–µ–∑—É–ª—Ç–∞—Ç–∏ –æ—Ç —Ç—ä—Ä—Å–µ–Ω–µ—Ç–æ:</h3>
                <div class="results-stats">
                    <span id="resultsCount">0</span> <span data-lang="resultsFound">—Ä–µ–∑—É–ª—Ç–∞—Ç–∞ –Ω–∞–º–µ—Ä–µ–Ω–∏</span>
                    <span class="separator">|</span>
                    <span id="totalCount">3000+</span> <span data-lang="totalTransistors">–æ–±—â–æ —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–∏</span>
                </div>
            </div>
            
            <!-- Export and View Controls -->
            <div class="results-controls">
                <div class="view-controls">
                    <button id="tableView" class="view-btn active" title="–¢–∞–±–ª–∏—á–µ–Ω –∏–∑–≥–ª–µ–¥" data-lang-title="tableView">üìã</button>
                    <button id="gridView" class="view-btn" title="–ú—Ä–µ–∂–æ–≤ –∏–∑–≥–ª–µ–¥" data-lang-title="gridView">‚äû</button>
                    <button id="compareView" class="view-btn" title="–°—Ä–∞–≤–Ω–µ–Ω–∏–µ" data-lang-title="compareView">‚öñÔ∏è</button>
                </div>
                
                <div class="export-controls">
                    <button id="exportCSV" class="btn-export" data-lang="exportCSV">üìä –°–≤–∞–ª–∏ CSV</button>
                </div>
            </div>
        </div>
        
        <!-- Database Table -->
        <div class="database-table-container">
            <table id="transistorTable" class="database-table">
                <thead>
                    <tr>
                        <th class="sortable" data-sort="model" data-lang="model">
                            –ú–æ–¥–µ–ª
                            <span class="sort-indicator">‚ÜïÔ∏è</span>
                        </th>
                        <th class="sortable" data-sort="technology" data-lang="technology">
                            –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è
                            <span class="sort-indicator">‚ÜïÔ∏è</span>
                        </th>
                        <th class="sortable" data-sort="vds_max" data-lang="maxVoltage">
                            VDS(max) [V]
                            <span class="sort-indicator">‚ÜïÔ∏è</span>
                        </th>
                        <th class="sortable" data-sort="id_max" data-lang="maxCurrent">
                            ID(max) [A]
                            <span class="sort-indicator">‚ÜïÔ∏è</span>
                        </th>
                        <th class="sortable" data-sort="rds_mohm" data-lang="resistance">
                            RDS(on) [mŒ©]
                            <span class="sort-indicator">‚ÜïÔ∏è</span>
                        </th>
                        <th class="sortable" data-sort="package" data-lang="package">
                            –ö–æ—Ä–ø—É—Å
                            <span class="sort-indicator">‚ÜïÔ∏è</span>
                        </th>
                        <th class="sortable" data-sort="manufacturer" data-lang="manufacturer">
                            –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª
                            <span class="sort-indicator">‚ÜïÔ∏è</span>
                        </th>
                        <th data-lang="applications">–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è</th>
                        <th data-lang="actions">–î–µ–π—Å—Ç–≤–∏—è</th>
                    </tr>
                </thead>
                <tbody id="transistorTableBody">
                    <!-- Table rows will be populated by JavaScript -->
                </tbody>
            </table>
            
            <!-- Loading indicator -->
            <div id="loadingIndicator" class="loading hidden">
                <div class="spinner"></div>
                <span data-lang="loading">–ó–∞—Ä–µ–∂–¥–∞–Ω–µ...</span>
            </div>
            
            <!-- No results message -->
            <div id="noResults" class="no-results hidden">
                <div class="no-results-icon">üîç</div>
                <h3 data-lang="noResultsTitle">–ù—è–º–∞ –Ω–∞–º–µ—Ä–µ–Ω–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏</h3>
                <p data-lang="noResultsMessage">–û–ø–∏—Ç–∞–π—Ç–µ –¥–∞ –ø—Ä–æ–º–µ–Ω–∏—Ç–µ —Ñ–∏–ª—Ç—Ä–∏—Ç–µ –∏–ª–∏ —Ç—ä—Ä—Å–µ–Ω–µ—Ç–æ</p>
                <button id="resetAllFilters" class="btn-primary" data-lang="resetAllFilters">üîÑ –ù—É–ª–∏—Ä–∞–π –≤—Å–∏—á–∫–∏ —Ñ–∏–ª—Ç—Ä–∏</button>
            </div>
        </div>
        
        <!-- Pagination -->
        <div class="pagination-container">
            <div class="pagination-info">
                <span data-lang="showingResults">–ü–æ–∫–∞–∑–∞–Ω–∏</span>
                <span id="startResult">1</span> - <span id="endResult">25</span>
                <span data-lang="of">–æ—Ç</span>
                <span id="totalResults">0</span>
                <span data-lang="results">—Ä–µ–∑—É–ª—Ç–∞—Ç–∞</span>
            </div>
            
            <div class="pagination-controls">
                <button id="firstPage" class="page-btn" title="–ü—ä—Ä–≤–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞" data-lang-title="firstPage">‚èÆ</button>
                <button id="prevPage" class="page-btn" title="–ü—Ä–µ–¥–∏—à–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞" data-lang-title="prevPage">‚óÄ</button>
                <div id="pageNumbers" class="page-numbers"></div>
                <button id="nextPage" class="page-btn" title="–°–ª–µ–¥–≤–∞—â–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞" data-lang-title="nextPage">‚ñ∂</button>
                <button id="lastPage" class="page-btn" title="–ü–æ—Å–ª–µ–¥–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞" data-lang-title="lastPage">‚è≠</button>
            </div>
            
            <div class="page-size-control">
                <label data-lang="itemsPerPage">–ï–ª–µ–º–µ–Ω—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞:</label>
                <select id="pageSize">
                    <option value="10">10</option>
                    <option value="25" selected>25</option>
                    <option value="50">50</option>
                    <option value="100">100</option>
                    <option value="all" data-lang="showAll">–í—Å–∏—á–∫–∏</option>
                </select>
            </div>
        </div>
    </div>
</section>

<!-- Detailed View Modal -->
<div id="transistorModal" class="modal hidden">
    <div class="modal-content">
        <div class="modal-header">
            <h2 id="modalTitle" data-lang="transistorDetails">–î–µ—Ç–∞–π–ª–∏ –∑–∞ —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä</h2>
            <button id="closeModal" class="close-btn" title="–ó–∞—Ç–≤–æ—Ä–∏" data-lang-title="close">‚úï</button>
        </div>
        
        <div class="modal-body">
            <div class="transistor-details">
                <div class="detail-section">
                    <h3 data-lang="basicInfo">üîß –û—Å–Ω–æ–≤–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <span class="label" data-lang="model">–ú–æ–¥–µ–ª:</span>
                            <span id="detailModel" class="value">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="label" data-lang="technology">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è:</span>
                            <span id="detailTechnology" class="value">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="label" data-lang="manufacturer">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª:</span>
                            <span id="detailManufacturer" class="value">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="label" data-lang="package">–ö–æ—Ä–ø—É—Å:</span>
                            <span id="detailPackage" class="value">-</span>
                        </div>
                    </div>
                </div>
                
                <div class="detail-section">
                    <h3 data-lang="electricalParams">‚ö° –ï–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏</h3>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <span class="label">VDS(max):</span>
                            <span id="detailVds" class="value">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="label">ID(max):</span>
                            <span id="detailId" class="value">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="label">RDS(on):</span>
                            <span id="detailRds" class="value">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="label">Œ± (temp coeff):</span>
                            <span id="detailAlpha" class="value">-</span>
                        </div>
                    </div>
                </div>
                
                <div class="detail-section">
                    <h3 data-lang="switchingParams">üîÑ –ü—Ä–µ–≤–∫–ª—é—á–≤–∞—â–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏</h3>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <span class="label">tr (rise time):</span>
                            <span id="detailTr" class="value">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="label">tf (fall time):</span>
                            <span id="detailTf" class="value">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="label" data-lang="applications">–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</span>
                            <span id="detailApplications" class="value applications">-</span>
                        </div>
                    </div>
                </div>
                
                <div class="detail-section">
                    <h3 data-lang="performanceAnalysis">üìä –ê–Ω–∞–ª–∏–∑ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç—Ç–∞</h3>
                    <div class="performance-metrics">
                        <div class="metric">
                            <span class="metric-label" data-lang="powerDensity">–ü–ª—ä—Ç–Ω–æ—Å—Ç –Ω–∞ –º–æ—â–Ω–æ—Å—Ç—Ç–∞:</span>
                            <span id="powerDensity" class="metric-value">-</span>
                            <span class="metric-unit">W/cm¬≤</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label" data-lang="figureMerit">Figure of Merit:</span>
                            <span id="figureMerit" class="metric-value">-</span>
                            <span class="metric-unit">mŒ©¬∑nC</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label" data-lang="switchingScore">–ü—Ä–µ–≤–∫–ª—é—á–≤–∞—â —Ä–µ–∑—É–ª—Ç–∞—Ç:</span>
                            <div id="switchingScore" class="score-bar">
                                <div class="score-fill"></div>
                                <span class="score-text">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="modal-footer">
            <button id="addToComparison" class="btn-primary" data-lang="addToComparison">‚öñÔ∏è –î–æ–±–∞–≤–∏ –∑–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ</button>
            <button id="calculateWithThis" class="btn-primary" data-lang="calculateWithThis">üßÆ –ò–∑—á–∏—Å–ª–∏ —Å —Ç–æ–∑–∏</button>
            <button id="downloadDatasheet" class="btn-secondary" data-lang="downloadDatasheet">üìÑ Datasheet</button>
            <button id="closeModalBtn" class="btn-secondary" data-lang="close">–ó–∞—Ç–≤–æ—Ä–∏</button>
        </div>
    </div>
</div>

<!-- Comparison Modal -->
<div id="comparisonModal" class="modal hidden">
    <div class="modal-content large">
        <div class="modal-header">
            <h2 data-lang="compareTransistors">‚öñÔ∏è –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–∞ —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–∏</h2>
            <button id="closeComparisonModal" class="close-btn" title="–ó–∞—Ç–≤–æ—Ä–∏" data-lang-title="close">‚úï</button>
        </div>
        
        <div class="modal-body">
            <div id="comparisonTable" class="comparison-table">
                <!-- Comparison table will be populated by JavaScript -->
            </div>
        </div>
        
        <div class="modal-footer">
            <button id="clearComparison" class="btn-secondary" data-lang="clearComparison">üóëÔ∏è –ò–∑—á–∏—Å—Ç–∏</button>
            <button id="exportComparison" class="btn-primary" data-lang="exportComparison">üìä –ï–∫—Å–ø–æ—Ä—Ç–∏—Ä–∞–π</button>
            <button id="closeComparisonBtn" class="btn-secondary" data-lang="close">–ó–∞—Ç–≤–æ—Ä–∏</button>
        </div>
    </div>
</div>

{% endblock %}
